@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-slate-50 text-slate-800 antialiased;
  }
}

.glass-panel {
  @apply bg-white/70 backdrop-blur-lg border border-white/20 shadow-xl;
}

.glass-card {
  @apply bg-white/50 backdrop-blur-md border border-white/30 shadow-sm hover:shadow-md transition-all duration-300;
}

/* ============================================
   Print Styles — A4 Portrait 최적화
   v2: 모든 문제 인쇄 + 폰트 크기 조정
   ============================================ */
@media print {
  @page {
    size: A4 portrait;
    margin: 15mm;
  }

  /* --- 모든 요소 overflow 강제 해제 (핵심!) --- */
  * {
    overflow: visible !important;
    opacity: 1 !important;
    visibility: visible !important;
    transform: none !important;
    transition: none !important;
    animation: none !important;
    box-shadow: none !important;
    text-shadow: none !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* --- 전체 레이아웃 리셋 --- */
  html,
  body {
    margin: 0 !important;
    padding: 0 !important;
    width: 100% !important;
    height: auto !important;
    min-height: 0 !important;
    max-height: none !important;
    background: white !important;
    color: #000 !important;
    font-family: 'Pretendard', 'Noto Sans KR', sans-serif !important;
    font-size: 12pt !important;
    line-height: 1.6 !important;
  }

  #root,
  #root>div,
  main,
  .min-h-screen,
  #printable-content,
  #mock-exam-paper {
    display: block !important;
    position: static !important;
    float: none !important;
    width: 100% !important;
    height: auto !important;
    min-height: 0 !important;
    max-height: none !important;
    max-width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
  }

  /* --- 숨길 요소들 --- */
  nav,
  footer,
  .no-print,
  [role="navigation"],
  .fixed,
  .absolute,
  .print-hide-explanation,
  .pointer-events-none {
    display: none !important;
    height: 0 !important;
    overflow: hidden !important;
  }

  /* --- 타이포그래피 (사용자 지정 크기) --- */

  /* 지문 (content) = 12pt */
  p,
  span,
  div,
  li {
    font-size: 12pt !important;
    color: #000 !important;
  }

  /* 문제 (question) = 14pt */
  h3 {
    font-size: 14pt !important;
    font-weight: 700 !important;
    margin-bottom: 6pt !important;
    color: #000 !important;
  }

  /* 선택지 (choices) = 12pt → 버튼에서 별도 지정 */

  /* 기타 제목 */
  h1,
  h2 {
    font-size: 16pt !important;
    font-weight: 700 !important;
    margin-bottom: 6pt !important;
    color: #000 !important;
  }

  h4 {
    font-size: 12pt !important;
    font-weight: 600 !important;
    color: #000 !important;
  }

  /* --- 문제 카드 스타일 --- */
  .print-question-card,
  .glass-card {
    display: block !important;
    position: relative !important;
    width: 100% !important;
    margin: 0 0 14pt 0 !important;
    padding: 12pt !important;
    border: 1.5pt solid #333 !important;
    border-radius: 6pt !important;
    background: #fff !important;

    /* 자연스러운 페이지 흐름 (avoid 제거!) */
    break-inside: auto !important;
    page-break-inside: auto !important;
  }

  /* 문제 번호 + 제목이 페이지 끝에 혼자 남지 않게 */
  .print-question-card h3,
  .print-question-card h4 {
    break-after: avoid !important;
    page-break-after: avoid !important;
  }

  /* --- 선택지 스타일 (12pt) --- */
  .print-question-card button,
  .glass-card button {
    display: block !important;
    width: 100% !important;
    margin-top: 4pt !important;
    padding: 6pt 10pt !important;
    border: 1pt solid #999 !important;
    border-radius: 4pt !important;
    background: #fff !important;
    text-align: left !important;
    font-size: 12pt !important;
    color: #000 !important;
  }

  /* --- 수동 페이지 나누기 유틸리티 --- */
  .page-break-before {
    page-break-before: always !important;
    break-before: page !important;
  }

  .page-break-after {
    page-break-after: always !important;
    break-after: page !important;
  }

  /* --- 제목 orphan 방지 --- */
  h1,
  h2,
  h3,
  h4 {
    page-break-after: avoid !important;
    break-after: avoid !important;
  }

  p,
  span,
  div {
    orphans: 3;
    widows: 3;
  }

  /* 배경 이미지 제거 */
  * {
    background-image: none !important;
  }

  /* --- 모의고사 인쇄 시 --- */
  #mock-exam-paper .scroll-mt-32 {
    break-inside: auto !important;
    page-break-inside: auto !important;
    margin-bottom: 16pt !important;
  }

  #mock-exam-paper .bg-white.rounded-2xl {
    border: 1.5pt solid #333 !important;
    padding: 12pt !important;
    border-radius: 6pt !important;
  }
}